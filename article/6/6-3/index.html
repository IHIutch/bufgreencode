<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="cache-control" content="public">
  <meta http-equiv="expires" content="86400">

  <title>Temporary Uses | Buffalo Green Code</title>
  <meta name="description"
    content="6.3.1 General">
  <link rel="icon" type="image/png" href="/favicon.png">
  <link rel="canonical" href="/article/6/6-3/">

  <!-- Google Analytics. -->
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-138074552-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-138074552-1');
</script>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
  </script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
  </script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.css@7.1.1/themes/reset-min.css"
  integrity="sha256-JQ2nnTmybhOWSjfV3sa8mG0ZVhTCcORER4cyXc5HL10=" crossorigin="anonymous">

  <!-- Load main CSS file asynchronously via loadCSS. -->
  
<script>
    !function(e){"use strict";var t=function(t,n,r){function o(e){return i.body?e():void setTimeout(function(){o(e)})}function l(){d.addEventListener&&d.removeEventListener("load",l),d.media=r||"all"}var a,i=e.document,d=i.createElement("link");if(n)a=n;else{var s=(i.body||i.getElementsByTagName("head")[0]).childNodes;a=s[s.length-1]}var u=i.styleSheets;d.rel="stylesheet",d.href=t,d.media="only x",o(function(){a.parentNode.insertBefore(d,n?a:a.nextSibling)});var f=function(e){for(var t=d.href,n=u.length;n--;)if(u[n].href===t)return e();setTimeout(function(){f(e)})};return d.addEventListener&&d.addEventListener("load",l),d.onloadcssdefined=f,f(l),d};"undefined"!=typeof exports?exports.loadCSS=t:e.loadCSS=t}("undefined"!=typeof global?global:this),function(e){if(e.loadCSS){var t=loadCSS.relpreload={};if(t.support=function(){try{return e.document.createElement("link").relList.supports("preload")}catch(t){}},t.poly=function(){for(var t=e.document.getElementsByTagName("link"),n=0;n<t.length;n++){var r=t[n];"preload"===r.rel&&"style"===r.getAttribute("as")&&(e.loadCSS(r.href,r),r.rel=null)}},!t.support()){t.poly();var n=e.setInterval(t.poly,300);e.addEventListener&&e.addEventListener("load",function(){e.clearInterval(n)})}}}(this);
    loadCSS('/assets/styles/main.css');
</script>

  <link href="/assets/styles/main.css" rel='stylesheet' type='text/css'>
  <!-- Begin Jekyll SEO tag v2.6.0 -->
<title>Temporary Uses | Buffalo Green Code</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Temporary Uses" />
<meta name="author" content="@jb_hutch" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="6.3.1 General" />
<meta property="og:description" content="6.3.1 General" />
<link rel="canonical" href="https://bufgreencode.com/article/6/6-3/" />
<meta property="og:url" content="https://bufgreencode.com/article/6/6-3/" />
<meta property="og:site_name" content="Buffalo Green Code" />
<meta property="og:image" content="https://bufgreencode.com/assets/img/meta/meta-img.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-05-11T03:04:58+00:00" />
<meta name="google-site-verification" content="2uJ6hXsUDukLmTfNK7Y7jCmnaqyiLptsVDmZ2Ct7Zzk" />
<script type="application/ld+json">
{"description":"6.3.1 General","author":{"@type":"Person","name":"@jb_hutch"},"@type":"BlogPosting","url":"https://bufgreencode.com/article/6/6-3/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://bufgreencode.com/assets/img/meta/meta-img.png"},"name":"@jb_hutch"},"image":"https://bufgreencode.com/assets/img/meta/meta-img.png","headline":"Temporary Uses","dateModified":"2019-05-11T03:04:58+00:00","datePublished":"2019-05-11T03:04:58+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://bufgreencode.com/article/6/6-3/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>


<body data-spy="scroll" data-target="#toc-scrollspy"  class="page--glossary" >

  <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-primary">
  <a class="navbar-brand p-0 d-flex align-items-center" href="/">
    <img class="mr-2" src="/assets/img/meta/logo.svg" alt="Buffalo Green Code">
    Buffalo Green Code
  </a>
  <button class="navbar-toggler d-none" type="button" data-toggle="collapse" data-target="#navbarCollapse"
    aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarCollapse">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item ">
        <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item ">
        <a class="nav-link" href="/about/">About</a>
      </li>
    </ul>
    <div>
      <span class="small text-white"><b>Updated:</b> December 2016</span>
    </div>
  </div>
</nav>

  <nav class="navbar navbar-expand-md navbar-light bg-light d-lg-none">
  <div class="p-md-3 flex-grow-1 mr-3 mr-md-0 py-1">
  <input class="form-control search-input" type="search" placeholder='Search...' />
</div>

  <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#mobileNav"
    aria-controls="mobileNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="mobileNav">
    <ul class="nav flex-column">
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/1/">1. Introductory Provisions</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/2/">2. Definitions &amp; Measurements</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/3/">3. Neighborhood Zones</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/4/">4. District Zones</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/5/">5. Corridor Zones</a>
      </li>
      
      
      
      <li class="nav-item active">
        <a class="nav-link" href="/article/6/">6. Uses</a>
      </li>
      <ul class="active">
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li class="nav-item">
          <a class="nav-link text-dark-grey" href="/article/6/6-1/">6.1
            Principal Uses</a>
        </li>
        
        
        
        
        
        <li class="nav-item">
          <a class="nav-link text-dark-grey" href="/article/6/6-2/">6.2
            Accessory Uses</a>
        </li>
        
        
        
        
        
        <li class="nav-item active">
          <a class="nav-link" href="/article/6/6-3/">6.3
            Temporary Uses</a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </ul>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/7/">7. Site Development</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/8/">8. Access &amp; Parking</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/9/">9. Signs</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/10/">10. Transportation Network</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/11/">11. Administration & Approvals</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/12/">12. Nonconformities & Enforcement</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/13/">13. Zoning Board of Appeals</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/14/">14. Planned Unit Developments</a>
      </li>
      
      
    </ul>
  </div>
</nav>

  <nav class="col-md-3 col-lg-2 d-none d-md-block bg-light sidebar-left">
  <div class="p-md-3 flex-grow-1 mr-3 mr-md-0 py-1">
  <input class="form-control search-input" type="search" placeholder='Search...' />
</div>

  <div class="sidebar-sticky sidebar border-top">
    <ul class="nav flex-column pb-5 mb-5">
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/1/">1. Introductory Provisions</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/2/">2. Definitions &amp; Measurements</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/3/">3. Neighborhood Zones</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/4/">4. District Zones</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/5/">5. Corridor Zones</a>
      </li>
      
      
      
      <li class="nav-item active">
        <a class="nav-link" href="/article/6/">6. Uses</a>
      </li>
      <ul class="active">
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li class="nav-item">
          <a class="nav-link text-dark-grey" href="/article/6/6-1/">6.1
            Principal Uses</a>
        </li>
        
        
        
        
        
        <li class="nav-item">
          <a class="nav-link text-dark-grey" href="/article/6/6-2/">6.2
            Accessory Uses</a>
        </li>
        
        
        
        
        
        <li class="nav-item active">
          <a class="nav-link" href="/article/6/6-3/">6.3
            Temporary Uses</a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </ul>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/7/">7. Site Development</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/8/">8. Access &amp; Parking</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/9/">9. Signs</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/10/">10. Transportation Network</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/11/">11. Administration & Approvals</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/12/">12. Nonconformities & Enforcement</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/13/">13. Zoning Board of Appeals</a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link text-dark-grey" href="/article/14/">14. Planned Unit Developments</a>
      </li>
      
      
    </ul>
  </div>
</nav>

  <div class="col-md-9 col-lg-10 col-xl-8 ml-sm-auto mx-xl-auto">
    <main role="main" class="px-md-4 pt-4">
      <div class="row">
        <div class="col-12 mb-4 px-md-5">
          <div class="d-inline-flex align-items-center mb-3">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <div class="mr-1 px-1 border rounded">
    <a href="/article/6/">
      <p class="small mb-0">6. Uses</p>
    </a>
  </div>
  <div class="mr-1">
    <p class="small mb-0">/</p>
  </div>
  <div class="px-1 border rounded">
    <a href="/article/6/6-3/">
      <p class="small mb-0">6.3 Temporary Uses</p>
    </a>
  </div>
  
  
  
  
  
  
  
  
</div>

          <h1 class="display-4">Temporary Uses</h1>
          <p class="lead"></p>
        </div>
        <div class="col-12 px-md-5">
          <div class="page-content">
            <h2 id="631-general">6.3.1 General</h2>

<ol>
  <li>All temporary uses and structures must comply with the standards of this section.</li>
  <li>No temporary use may be established on a public right-of-way or public park without the authorization of the Commissioner of Public Works, Parks, and Streets.</li>
  <li>Temporary uses that require a temporary use permit are subject to the following general requirements, as applicable:
    <ol>
      <li>A coordinator must be identified that will perform the coordinating role for management of the temporary use and to liaise with the City.</li>
      <li>If the operator of the temporary use is not the owner of the site where the temporary use will be located, written permission from the property owner is required.</li>
      <li>The operator of the temporary use must ensure adequate traffic control, emergency vehicle ingress and egress, provision for trash/recycling and sanitary facilities, and measures for security and crowd control, as necessary.</li>
      <li>All temporary structures must be cleared from the site within 24 hours after the use is terminated, unless an exception is granted by the Commissioner of Permit and Inspection Services.</li>
      <li>A site plan may be required, where applicable, to demonstrate compliance with this Ordinance and all other requirements.</li>
    </ol>
  </li>
  <li>No temporary use may result in adverse effects upon the public health, safety, and welfare, as determined by the Commissioner of Permit and Inspection Services.</li>
  <li>Any temporary use that may reasonably be assumed to attract a combination of spectators or participants to equal or exceed 3,000 persons must be approved by the Special Events Advisory Committee in accordance with Chapter 414 of the City Code.</li>
  <li>All temporary uses must meet any applicable federal, state, and local requirements, including, but not limited to, licensing, health, safety, and building and fire code requirements.</li>
</ol>

<h2 id="632-temporary-uses-permit-required">6.3.2 Temporary Uses, Permit Required</h2>

<p>The following temporary uses are allowed subject to approval of a temporary use permit issued in accordance with Section 11.3.10.</p>

<ol>
  <li>Batching Plant, Temporary. A temporary facility for mixing cement, concrete, or asphalt.
    <ol>
      <li>Temporary batching plants are allowed only in connection with active construction activities. In no event may the use of temporary batching plant continue past completion of the construction activity or expiration of the building permit.</li>
    </ol>
  </li>
  <li>Carnival/Circus. The temporary use of structures or land for mechanical rides, amusement devices, games, and live performances to which the public is admitted, including any temporary stands or structures for selling food, beverages, souvenirs, and similar related goods.
    <ol>
      <li>Carnival/circus uses are limited to a maximum duration of 14 consecutive days, unless otherwise limited or extended by the Commissioner of Permit and Inspection Services.</li>
      <li>Upon written notice from the Commissioner of Permit and Inspection Services, all operators must immediately stop the use of any amusement device or structure found by the City to pose a threat to the public safety.</li>
    </ol>
  </li>
  <li>Holiday Entertainment. A temporary event for holiday-related entertainment activities, such as haunted houses, holiday set-pieces, and similar participatory holiday entertainment activities.
    <ol>
      <li>Holiday entertainment uses are limited to a maximum duration of 45 consecutive days.</li>
    </ol>
  </li>
  <li>
    <p>Mobile Retail Vendor. A readily movable, motorized wheeled vehicle, or a towed wheeled vehicle, designed and equipped as a retail establishment, typically a food truck or food trailer, but which may be any kind of retail vendor.</p>

    <ol>
      <li>Sale of alcoholic beverages from a mobile retail vendor is permitted only in conjunction with an approved special event.</li>
      <li>During business hours, a trash receptacle must be provided for customer use. The surrounding area must be kept clear of litter and debris at all times.</li>
      <li>A permanent water or wastewater connection is prohibited.</li>
      <li>Electrical service may be provided only by temporary service or other connection provided by an electric utility, or by an on- board generator.</li>
      <li>
        <p>Drive-through service is prohibited.</p>
      </li>
      <li>Signs for mobile retail vendors are limited to those mounted flat against the truck or trailer with a maximum projection of 18 inches, and no more than one sidewalk sign, erected per Section 9.2.11.</li>
    </ol>
  </li>
  <li>Open-Air Market, Temporary. A temporary outdoor marketplace at which retail goods are sold,
such as farmers markets and flea markets, and which may include incidental sales of food or live entertainment. 1. Temporary open-air markets are limited to a maximum duration of two consecutive days, plus any federal holiday, once per week.</li>
  <li>Outdoor Vehicle Show or Sale. An outdoor motor vehicle show or sale. 1. Outdoor vehicle shows or sales are limited to a maximum duration of 14 consecutive
days, unless otherwise limited or extended by the Commissioner of Permit and Inspection Services.</li>
  <li>Seasonal Sales. A temporary event for the sale of holiday-related goods, such as pumpkin patches and Christmas trees.
    <ol>
      <li>Seasonal sales are limited to a maximum duration of 45 consecutive days.</li>
    </ol>
  </li>
  <li>Sidewalk Sale. A temporary sales event where merchants display merchandise outside of the establishment.
    <ol>
      <li>Sidewalk sales must be in conjunction with, and clearly incidental to, an existing business on-site. Sidewalk sales are permitted to display and sell only merchandise that is found in stores participating in the sale.</li>
      <li>All sidewalk sales must provide for a minimum of five feet of sidewalk clearance on the adjacent public right-of-way and along pedestrian ways serving the site.</li>
    </ol>
  </li>
</ol>

<h2 id="633-temporary-uses-permit-not-required">6.3.3 Temporary Uses, Permit Not Required</h2>

<p>The following temporary uses are permitted without a temporary use permit, subject to applicable standards. However, no temporary use may established within a public right-of-way or public park without authorization of the Commissioner of Public Works, Parks, and Streets per Section 6.3.1.B, regardless of whether a temporary use permit is required.</p>

<ol>
  <li>Construction and Equipment Storage. Any outdoor storage of materials or equipment customarily found in association with a construction site.
    <ol>
      <li>The outdoor storage of construction materials and equipment is allowed only in connection with active construction activities and must be removed once the building permit expires.</li>
      <li>Construction materials and equipment may be stored within a public right-of-way only if a right-of-way work permit is granted per Section 11.4.3.</li>
    </ol>
  </li>
  <li>Contractor Trailer, Temporary. A mobile home, travel trailer, truck trailer, or other structure used as an on-site management or marketing office in conjunction with a construction project.
    <ol>
      <li>Contractor trailers are allowed only in connection with active construction activities and must be removed once the building permit expires.</li>
      <li>Sleeping or cooking facilities within the trailer are prohibited.</li>
      <li>No trailer may be used as the main office or headquarters of any firm.</li>
    </ol>
  </li>
  <li>Garage/Yard/Estate Sale. A temporary event for the sale of miscellaneous household goods or personal articles.
    <ol>
      <li>Garage, yard, and estate sales are limited to a maximum duration of three consecutive days, three times per calendar year.</li>
    </ol>
  </li>
  <li>Real Estate Model Unit. The temporary use of a dwelling unit within a development project as a sales or rental office, or as a representative unit for units located on-site.
    <ol>
      <li>Real estate model units may be used for active selling and leasing of space in a development project for up to six months after issuance of the final certificate of occupancy.</li>
      <li>The model unit must be converted to its intended residential use at the conclusion of its use as a model unit.</li>
    </ol>
  </li>
  <li>Storage Pods. Self-storage containers delivered to a resident or business owner to store belongings, which are then picked up and returned to a warehouse until needed.
    <ol>
      <li>One storage pod for off-site storage of household or other goods located in any yard is allowed for a maximum of 30 consecutive days twice per calendar year.</li>
      <li>The storage pod must be placed on an impervious surface.</li>
    </ol>
  </li>
  <li>Temporary Emergency Shelter. Temporary shelter for citizens during seasonal or emergency events, such as extreme temperature, flooding, or natural disaster.
    <ol>
      <li>Temporary emergency shelters are permitted as part of a civic use only.</li>
      <li>The maximum length of stay is 14 days, unless otherwise limited or extended by the Commissioner of Permit and Inspection Services.</li>
      <li>On-site supervision must be provided at all times. Security personnel must be provided during the hours of operation,
unless exempted from this requirement by the Commissioner of Permit and Inspection Services.</li>
      <li>Where a temporary emergency shelter is operated to accommodate refugees, a temporary use permit is required. The temporary emergency shelter must meet all above standards with the exception of standards for length of stay. The maximum length of stay for a temporary emergency shelter operated to accommodate refugees is limited to 90 days within any calendar year. This time period may be further extended or restricted as part of the temporary use permit.</li>
    </ol>
  </li>
  <li>Tent. A portable shelter typically made of canvas, supported by one or more poles and stretched tight by cords or loops attached to pegs into the ground.
    <ol>
      <li>Tents used in conjunction with a nonresidential use may be erected for no more than 14 days. Tents must be removed within 24 hours of the cessation of the temporary use.</li>
      <li>Tents used in conjunction with a residential use may be erected for no more than five days and are permitted in an interior side and rear yard only.</li>
      <li>Tents with an occupant load of 50 or more persons require approval by the City of Buffalo Bureau of Fire Prevention.</li>
    </ol>
  </li>
</ol>

          </div>
        </div>
      </div>
    </main>
  </div>
  <nav class="d-none d-xl-block col-xl-2 sidebar-right toc">
    <div class="sidebar-sticky sidebar">
      <div class="border-left mt-4" id="toc-scrollspy"><ul class="nav toc-list">
<li class="toc-entry toc-h2"><a href="#631-general">6.3.1 General</a></li>
<li class="toc-entry toc-h2"><a href="#632-temporary-uses-permit-required">6.3.2 Temporary Uses, Permit Required</a></li>
<li class="toc-entry toc-h2"><a href="#633-temporary-uses-permit-not-required">6.3.3 Temporary Uses, Permit Not Required</a></li>
</ul></div>
    </div>
  </nav>

  </body>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>
<script>
  var client = algoliasearch('ZXR82DO3QZ', 'af7cc1f834c7c7de6ac6b92670775a89');
  var index = client.initIndex('bufgreencode');

  const hitTemplate = function (hit) {

    function getOrigin() {
      var location = window.location
      var origin = location.origin

      if (!origin) {
        var port = location.port ? ':' + location.port : ''

        origin = location.protocol + '//' + location.hostname + port
      }

      return origin
    }

    var currentUrl = getOrigin()
    var liveUrl = 'https://bufgreencode.com'

    var url = '';

    if (currentUrl.indexOf(liveUrl) !== -1) {
      url = `https://bufgreencode.com${hit.url}#${hit.anchor}`;
    } else {
      url = `${hit.url}#${hit.anchor}`;
    }

    const title = hit._highlightResult.title.value;
    const content = hit._snippetResult.content.value

    let breadcrumbs = '';
    if (hit._highlightResult.hierarchy) {
      var array = [];
      for (const [key, value] of Object.entries(hit._highlightResult.hierarchy)) {
        if (value) {
          array.push(value.value);
        }
      }
      breadcrumbs = array.map(match => {
        return `<span class="post-breadcrumb">${match}</span>`
      }).join(' / ')
    }

    let article = '';
    if (hit.article) {
      article = hit.article + '.';
    }

    let section = '';
    if (hit.section) {
      section = hit.section + ' ';
    }

    return `
            <a class="post-link" href="${url}">
              <h6>${article}${section}${title}</h6>
              <div class="post-breadcrumbs text-muted">${breadcrumbs}</div>
              <div class="aa-content"><span class="text-muted">${content}</span></div>
            </a>
          `;
  }

  autocomplete('.search-input', {
    debug: true,
    searchParameters: {
      attributesToSnippet: ['content']
    }
  }, [{
    source: autocomplete.sources.hits(index, {
      hitsPerPage: 4
    }),
    displayKey: 'title',
    templates: {
      //            header: '<div class="aa-suggestions-category">Results</div>',
      suggestion: hitTemplate,
      footer: '<div class="aa-suggestions-footer px-2 py-1"><img src="../../../assets/img/search-by-algolia-light-background.svg"></div>',
      empty: '<div class="aa-empty">No matching results</div>',
    }
  }]);

</script>

</html>

